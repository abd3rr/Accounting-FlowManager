<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <meta charset="UTF-8">
    <title>Login | Invoice Management</title>

</head>
<body>

<div class="d-flex justify-content-center align-items-center vh-100" layout:fragment="content">
    <div class="login-container p-5">

        <h1 class="fs-4 fw-bold mb-4">Login</h1>
        <form autocomplete="off" class="needs-validation" method="POST" novalidate="" th:action="@{/login}">
            <input th:name="${_csrf.parameterName}" th:value="${_csrf.token}" type="hidden"/>
            <div class="mb-3">
                <label class="mb-2 text-muted" for="email">E-Mail Address</label>
                <input autofocus class="form-control" id="email" name="username" required type="email" value="">
                <div class="invalid-feedback">
                    Please enter a valid email address.
                </div>
            </div>

            <div class="mb-3">
                <div class="mb-2 w-100">
                    <label class="text-muted" for="password">Password</label>
                    <a class="float-end text-muted forgot-password-link" href="/forgot-password">
                        Forgot Password?
                    </a>
                </div>
                <input class="form-control" id="password" name="password" required type="password">
                <div class="invalid-feedback">
                    Password is required.
                </div>
            </div>

            <div class="d-flex align-items-center mb-4">
                <div class="form-check">
                    <input class="form-check-input" id="remember" name="remember" type="checkbox">
                    <label class="form-check-label" for="remember">Remember Me</label>
                </div>
            </div>

            <button class="btn btn-primary w-100 mb-3" type="submit">
                Login
            </button>
            <div class="text-center">
                <a class="btn btn-link register-link" href="/register">Register</a>
            </div>

            <div class="mt-3" th:if="${param.error}">
                <div class="alert alert-danger">
                    Invalid username and password.
                </div>
            </div>
            <div class="mt-3" th:if="${param.logout}">
                <div class="alert alert-success">
                    You have been logged out.
                </div>
            </div>
            <div class="mt-3" th:if="${successMessage}">
                <div class="alert alert-success" th:text="${successMessage}"></div>
            </div>



        </form>
    </div>
</div>


</body>
</html>